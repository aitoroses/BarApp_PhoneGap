$(document).ready(function(){App.Likes={baseUrl:"http://mo.aitormurray.com",initialize:function(){var e=Backbone.Model.extend({defaults:{urlRoot:App.Likes.baseUrl+"API/likes/",name:"Empty like...",description:"Empty like...",picture:"img/placeholder.jpg",link:"www.defaultlink.com"}}),t=Backbone.View.extend({tagName:"div",className:"like",template:_.template('						<div class="title"> 							<h1><%= name %></h1> 						</div> 						<div class="image"> 							<img src="'+App.Likes.baseUrl+'/img/likes/<%= picture %>"> 						</div> 						<div class="description"> 							<p><%= description %></p> 						</div> 						<div class="link"> 							<a href="#"><%= link %></a> 						</div>'),render:function(){var e=this.model.toJSON();this.$el.html(this.template(e));return this}}),n=Backbone.Collection.extend({model:e,url:App.Likes.baseUrl+"/API/likes"}),r=Backbone.View.extend({initialize:function(){this.collection.on("add",this.addOne,this);this.collection.on("reset",this.addAll,this)},addOne:function(e){var n=new t({model:e});this.$el.append(n.render().el)},addAll:function(){this.collection.forEach(this.addOne,this);$(document).trigger("readyToShow")},render:function(){this.addAll()}}),i=new n,s=new r({collection:i});$(document).on("readyToShow",function(){$(".container").append(s.el);$(".container").animate({opacity:1},500);App.Likes.loading(!1)});i.fetch({reset:!0,error:function(){$(".container").append("Error de conexion")}})},loading:function(e){return e?$(".loading").show():$(".loading").hide()}}});